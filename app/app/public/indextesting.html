<!DOCTYPE html>
<html class="js" lang="en" dir="ltr">
<head>
    
  <meta charset="utf-8" />
  <meta http-equiv="ImageToolbar" content="false" />
  <meta http-equiv="cleartype" content="on" />
  <meta name="HandheldFriendly" content="true" />
  <link rel="shortcut icon" href="https://www.epa.gov/sites/all/themes/epa/favicon.ico" type="image/vnd.microsoft.icon" />
  <meta name="MobileOptimized" content="width" />
  <meta name="viewport" content="width=device-width" />
  <!--googleon: all-->
  <meta name="DC.description" content="" />
  <meta name="DC.title" content="" />
  <!--googleoff: snippet-->
  <meta name="keywords" content="" />
  <link rel="canonical" href="" />
  <link rel="shortlink" href="" />
  <meta name="DC.language" content="en" />
  <meta name="DC.Subject.epachannel" content="" />
  <meta name="DC.type" content="" />
  <meta name="DC.Subject.epaopt" content="" />
  <meta name="DC.date.created" content="" />
  <meta name="DC.date.modified" content="" />
  <meta name="DC.date.reviewed" content="" />
  <meta name="DC.creator" content="" />
	<title>Standalone Template for Applications | US EPA</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

	<!--googleoff: all-->
	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="https://www.epa.gov/sites/all/libraries/standalone/css/core/style.css" media="all" />
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/pikaday/css/pikaday.css">
    <link rel="stylesheet" href="https://js.arcgis.com/4.10/esri/css/main.css">

    
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!="dataLayer"?"&l="+l:"";j.async=true;j.src="//www.googletagmanager.com/gtm.js?id="+i+dl;f.parentNode.insertBefore(j,f);})(window,document,"script","dataLayer","GTM-L8ZB");</script>
	<!-- End Google Tag Manager -->  
	<script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
	crossorigin="anonymous"></script>
	
<style type="text/css" media="all">
@import url("https://www.epa.gov/sites/all/themes/epa/css/design.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/typography.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/drupal.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/layout.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/core/contextual.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/contrib/date.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/design.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/mobile-menu.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/drop-down-menu.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/flexslider.min.css");
@import url("https://www.epa.gov/sites/all/themes/epa/css/lib/colorbox.min.css");
@import url("https://www.epa.gov/sites/all/libraries/js/datatables-1.10.12/datatables.min.css");

</style>
</head>
<body class="html">
  <!-- Google Tag Manager -->
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-L8ZB" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager -->  
  <div class="skip-links">
    <a href="#main-content" class="skip-link element-invisible element-focusable">Jump to main content</a>
  </div>
	<header class="masthead clearfix" role="banner">
		<img alt="" class="site-logo" src="https://www.epa.gov/sites/all/themes/epa/logo.png">
		<div class="site-name-and-slogan">
			<h1 class="site-name"><a href="https://www.epa.gov/" rel="home" title="Go to the home page"><span>US EPA</span></a></h1>
			<div class="site-slogan">United States Environmental Protection Agency</div>
		</div>
		<div class="region-header">
			<div class="block-epa-core-gsa-epa-search" id="block-epa-core-gsa-epa-search">
				<form action="https://search.epa.gov/epasearch" class="epa-search" method="get">
					<label class="element-hidden" for="search-box">Search</label>
          <input class="form-text" id="search-box" name="querytext" placeholder="Search EPA.gov" value="">
          <button class="epa-search-button" id="search-button" title="Search" type="submit">Search</button>
          <input name="areaname" type="hidden" value="">
          <input name="areacontacts" type="hidden" value="">
          <input name="areasearchurl" type="hidden" value="">
          <input name="typeofsearch" type="hidden" value="epa">
          <input name="result_template" type="hidden" value="2col.ftl">
				</form>
			</div>
		</div>
	</header>
	<nav class="nav main-nav clearfix" role="navigation">
		<div class="nav__inner">
			<h2 class="element-invisible">Main menu</h2>
			<ul class="menu" role="menu">
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/environmental-topics" role="menuitem" title="Learn about Environmental Topics that EPA covers.">Environmental Topics</a></li>
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/laws-regulations" role="menuitem" title="Laws written by Congress provide the authority for EPA to write regulations. Regulations explain the technical, operational, and legal details necessary to implement laws.">Laws &amp; Regulations</a></li>
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/aboutepa" role="menuitem" title="Learn more about our mission and what we do, how we are organized, and our history.">About EPA</a></li>
			</ul>
		</div>
	</nav>
	<div class="mobile-nav" id="mobile-nav">
		<div class="mobile-bar clearfix">
			<label class="menu-button" for="mobile-nav-toggle">Menu</label>
		</div>
    <input checked id="mobile-nav-toggle" type="checkbox">
		<div class="mobile-links element-hidden" id="mobile-links" style="height:2404px;">
			<ul class="mobile-menu">
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/environmental-topics" role="menuitem" title="Learn about Environmental Topics that EPA covers.">Environmental Topics</a></li>
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/laws-regulations" role="menuitem" title="Laws written by Congress provide the authority for EPA to write regulations. Regulations explain the technical, operational, and legal details necessary to implement laws.">Laws &amp; Regulations</a></li>
				<li class="menu-item" role="presentation"><a class="menu-link" href="https://www.epa.gov/aboutepa" role="menuitem" title="Learn more about our mission and what we do, how we are organized, and our history.">About EPA</a></li>
			</ul>
		</div>
	</div>
	
<section id="main-content" class="main-content clearfix" role="main"><!--lang="en"-->
  
  
	<h2 class="microsite-name">National Pollutant Discharge Elimination System (NPDES)</h2> 

	<div class="region-preface clearfix">
 

	<div id="block-pane-epa-web-area-connect" class="block block-pane  block-pane-epa-web-area-connect">

		<span class="connect-title"><a href="https://epa.gov/report-environment/forms/contact-us-about-report-environment" class="connect-title__link">Contact Us</a></span>  
	</div>
	<div id="block-pane-social-sharing" class="block block-pane  block-pane-social-sharing">

	<span class="connect-title">Share</span>
<ul class="share-links">
<li class="share-links__item facebook">
	<a class="share-links__link" href="https://www.facebook.com/sharer.php?u=https://epa.gov/report-environment" aria-label="Facebook" target="_blank" rel="noopener noreferrer" title="Share this page on Facebook">
		<svg class="icon icon--social-link" aria-hidden="true">
			<use xlink:href="./images/small-icons.svg#small-facebook" />
		</svg>
	</a>
</li>
<li class="share-links__item twitter">
	<a class="share-links__link" href="https://twitter.com/intent/tweet?original_referer=https://epa.gov/report-environment/&text=Report on the Environment&url=https://epa.gov/report-environment&via=EPA&count=none&lang=en" aria-label="Twitter" target="_blank" rel="noopener noreferrer" title="Tweet this page">
		<svg class="icon icon--social-link" aria-hidden="true">
			<use xlink:href="./images/small-icons.svg#small-twitter" />
		</svg>
	</a>
</li>
<li class="share-links__item pinterest">
	<a class="share-links__link" href="https://pinterest.com/pin/create/button/?url=https://epa.gov/report-environment&description=Report on the Environment&media=https://www.epa.gov/sites/all/themes/epa/img/epa-seal.png" aria-label="Pinterest" target="_blank" rel="noopener noreferrer" title="Pin this page">
		<svg class="icon icon--social-link" aria-hidden="true">
			<use xlink:href="./images/small-icons.svg#small-pinterest" />
		</svg>
	</a>
</li>
<li class="share-links__item email">
	<a class="share-links__link" href="mailto:%20?subject=Shared from the US EPA: Report on the Environment&body=Report on the Environment - https://epa.gov/report-environment" aria-label="Email this page">
		<svg class="icon icon--social-link" aria-hidden="true">
			<use xlink:href="./images/small-icons.svg#small-email" />
		</svg>
	</a>
</li>
</ul>
</div>

</div>
    <div class="main-column clearfix">
      <!--googleon:all-->
      <div class="panel-pane pane-node-content">
        <div class="pane-content">
          <div class="node node-page clearfix view-mode-full">
          </div>
				</div>
				<div class="row">
					<div class="col-3">
						<a href=""> NPDES Home </a>
						<hr id="hr"/>
						<a href=""> About NPDES </a>
						<hr id="hr"/>
						<a href=""> All NPDES Program Areas </a>
						<hr id="hr"/>
						<a href=""> Animal Feeding Operations </a>
						<hr id="hr"/>
						<a href=""> Aquaculture </a>
						<hr id="hr"/>
						<a href=""> Forest Roads </a>
						<hr id="hr"/>
						<a href=""> Industrial Wastewater </a>
						<hr id="hr"/>
						<a href=''> Municipal Wastewater </a>
						<hr id="hr"/>
						<a href=''> National Pretreatment Program </a>
						<hr id="hr"/>
						<a href=''> Pesticide Permitting </a>
						<hr id="hr"/>
						<a href=''> Stormwater </a>
						<hr id="hr"/>
						<a href=''> Vessels Incidental Discharge Permitting </a>
						<hr id="hr"/>
						<a href=''> Water Quality Trading </a>
						<hr id="hr"/>
						<a href=''> NPDES Technical Resources </a>
					</div>
					<div class="col-9">
						<h1 class="NPDESTitle"> Rainfall Erosivity Factor Calculator for Small Construction Sites </h1>
						<p id="bodytext"> EPA's stormwater regulations allow NPDES permitting authorities to waive NPDES permitting requirements for stormwater discharges from small construction sites if: </p>
							<ul> 
								<li id="bodytext"> The construction site disturbs less than five acres, and </li>
								<li id="bodytext"> the rainfall erosivity factor ("R" in the revised universal soil loss equation, or RUSLE) value is less than five during the period of construction activity</li>
							</ul>
						<p id="bodytext"> If your small construction project is located in an area where EPA is the permitting authority and your R factor is less than five, you qualify for a low erosivity waiver (LEW) from NPDES stormwater permitting. LEW certifications are submitted
							through the electronic Notice of Intent (eNOI) system. Several states that are authorized to implement the NPDES permitting program also accept LEWs. Check with your state NPDES permitting authority for more information.
						</p>
						<ul>
							<li><a id="bodylink"  href=''>List of states, Indian country, and territories where EPA's 2012 Construction General Permit (CGP) and Multi-Sector General Permit (MSGP) Apply</a></li>
							<li><a id="bodylink" href=''>EPA's CGP eNOI System </a></li>

						</ul>
						<p id="bodytext"> The period during which small construction sites qualify for the waiver generally occurs during a relatively short time in arid and semi-arid areas. If your small construction project does not qualify for a waiver, then NPDES stormwater permit coverage is required. </p>

						<p id="bodytext"> To use the Rainfall Erosivity Factor Calculator to determine your eligibility for the LEW, you will need your project's location (either latitude/longitude or address) and the estimated start and end dates of construction. The period of construction activity begins at initial earth disturbance and ends with final stabilization. </p>
					
						<ul>
							<li> <a id="bodylink" href="">Construction Rainfall Erosivity Waiver Fact Sheet</a></li>
							<li><a id="bodylink" href=''>Appendix C of the 2017 CGP - Small Construction Waivers and Instructions </a></li>
						</ul>
						<p id="bodytext"> For questions or comments, email EPA's CGP staff at <a href=''>cgp@epa.gov</a>.</p>
						<form action="">
							Start Date: <input type="text" id="startdatepicker" value="MM/DD/YYYY"> End Date: <input type="text" id="enddatepicker" value="MM/DD/YYYY"><br>
							<p id="note"> NOTE: If your construction project extends beyond the estimated end date, you will need to either recalculate the R factor based on a new end date, or apply for NPDES permit coverage. </p>
							Location: <input type="text" id='location' value='Enter Address'><input id="mapViewButton" value="View on map" type="button" onclick="makeMap();" />

							
		
									<div id="viewDiv"></div>
		
		
		
		
		
		
		
							<input id="rButton" value="Determine R Factor" type="button" onclick="getRFactor();" />
						</form>

                        <!-- <div id="viewDiv" style="height: 600px; width: 500px; margin-bottom: 300px"></div> -->
					</div>
				
				</div>
				<div class="row">
					<div class="col-3">

					</div>
					<div class="col-9">
						<div class="container" id="eContainer">
							<h3 id="tableEI"> Erosivity Index:</h3>
							<table class="table table-bordered">
									<tbody>
										<tr>
											<td id="tableStart">Start Date: </td>
											<td id="tableEnd">End Date: </td>

										</tr>
										<tr>
											<td id="tableLatitude">Latitude: </td>
											<td id="tableLongitude">Longitude</td>

										</tr>

									</tbody>
								</table>
								<p id="conclusion"></p>
						</div>
					</div>
				</div>
					
					<div>
						<span id="longitude"></span>

					</div>
					<div>
						<span id="latitude"></span>

					</div>


				</div>
            </div>
        </div>
	</section>
	<footer class="main-footer clearfix" role="contentinfo">
		<div class="main-footer__inner">
			<div class="region-footer">
				<div class="block-pane-epa-global-footer" id="block-pane-epa-global-footer">
					<div class="row cols-3">
						<div class="col size-1of3">
							<div class="col__title">
								Discover.
							</div>
							<ul class="menu">
								<li><a href="https://www.epa.gov/accessibility">Accessibility</a></li>
								<li><a href="https://www.epa.gov/aboutepa/epas-administrator">EPA Administrator</a></li>
								<li><a href="https://www.epa.gov/planandbudget">Budget &amp; Performance</a></li>
								<li><a href="https://www.epa.gov/contracts">Contracting</a></li>
								<li><a href="https://www.epa.gov/home/grants-and-other-funding-opportunities">Grants</a></li>
								<li><a href="https://19january2017snapshot.epa.gov">January 19, 2017 Web Snapshot</a></li>
								<li><a href="https://www.epa.gov/ocr/whistleblower-protections-epa-and-how-they-relate-non-disclosure-agreements-signed-epa-employees">No FEAR Act Data</a></li>
								<li><a href="https://www.epa.gov/privacy">Privacy</a></li>
							</ul>
						</div>
						<div class="col size-1of3">
							<div class="col__title">
								Connect.
							</div>
							<ul class="menu">
								<li><a href="https://www.data.gov/">Data.gov</a></li>
								<li><a href="https://www.epa.gov/office-inspector-general/about-epas-office-inspector-general">Inspector General</a></li>
								<li><a href="https://www.epa.gov/careers">Jobs</a></li>
								<li><a href="https://www.epa.gov/newsroom">Newsroom</a></li>
								<li><a href="https://www.epa.gov/open">Open Government</a></li>
								<li><a href="https://www.regulations.gov/">Regulations.gov</a></li>
								<li><a href="https://www.epa.gov/newsroom/email-subscriptions">Subscribe</a></li>
								<li><a href="https://www.usa.gov/">USA.gov</a></li>
								<li><a href="https://www.whitehouse.gov/">White House</a></li>
							</ul>
						</div>
						<div class="col size-1of3">
							<div class="col__title">
								Ask.
							</div>
							<ul class="menu">
								<li><a href="https://www.epa.gov/home/forms/contact-us">Contact Us</a></li>
								<li><a href="https://www.epa.gov/home/epa-hotlines">Hotlines</a></li>
								<li><a href="https://www.epa.gov/foia">FOIA Requests</a></li>
								<li><a href="https://www.epa.gov/home/frequent-questions-specific-epa-programstopics">Frequent Questions</a></li>
							</ul>
							<div class="col__title">
								Follow.
							</div>
							<ul class="social-menu">
								<li><a class="menu-link social-facebook" href="https://www.facebook.com/EPA">Facebook</a></li>
								<li><a class="menu-link social-twitter" href="https://twitter.com/epa">Twitter</a></li>
								<li><a class="menu-link social-youtube" href="https://www.youtube.com/user/USEPAgov">YouTube</a></li>
								<li><a class="menu-link social-flickr" href="https://www.flickr.com/photos/usepagov">Flickr</a></li>
								<li><a class="menu-link social-instagram" href="https://www.instagram.com/epagov">Instagram</a></li>
							</ul>
							<p class="last-updated">Last updated on {Month day, YYYY}</p>
						</div>
					</div>
				</div>
			</div>
        </div>
    </footer>
    
	<script src="https://cdn.jsdelivr.net/npm/pikaday/pikaday.js"></script>
<script>
    var picker = new Pikaday({ field: document.getElementById('startdatepicker'), format: 'DD/MM/YYYY', toString(date, format) {
			var day = date.getDate();
			if (day < 10) {
				day='0'+day;
			}
			var month = date.getMonth()+1;
			if (month < 10) {
				month='0'+month;
			}
			const year = date.getFullYear();
			return `${year}-${month}-${day}`;
		},
			parse(dateString, format) {
				const parts = dateString.split('/');
				const day = parseInt(parts[0], 10);
				const month = parseInt(parts[1],10)-1;
				const year = parseInt(parts[2], 10);
				return new Date(year+'-'+month+'-'+day);
			} });

</script>
<script>
    var picker = new Pikaday({ field: document.getElementById('enddatepicker'), format: 'DD/MM/YYYY', toString(date, format) {
			var day = date.getDate();
			if (day < 10) {
				day='0'+day;
			}
			var month = date.getMonth()+1;
			if (month < 10) {
				month='0'+month;
			}
			const year = date.getFullYear();
			return `${year}-${month}-${day}`;
		},
			parse(dateString, format) {
				const parts = dateString.split('/');
				const day = parseInt(parts[0], 10);
				const month = parseInt(parts[1],10)-1;
				const year = parseInt(parts[2], 10);
				return new Date(year+'-'+month+'-'+day);
			}
		 });
</script>

<script src="https://js.arcgis.com/4.10/"></script>
<script>
function getRFactor() {

	var startDate = $('#startdatepicker').val();
	var endDate = $('#enddatepicker').val();
	var coordx = document.getElementById('longitude').innerHTML;
	var coordy = document.getElementById('latitude').innerHTML;
	var coordinates = [coordx, coordy];
	var locationz = 'location={"geometry":{"type":"Point","coordinates":['+coordx+','+coordy+']}}'

	var webservice = 'https://api.epa.gov/lew/rfactor?start_date='+startDate+'&end_date='+endDate+'&location={"geometry":{"type":"Point","coordinates":['+coordx+','+coordy+']}}&api_key=yCM9DKRltA4gTGovk2naSvodO5iUDBCT7FAJ3CF5'

	console.log(webservice);

	$.getJSON(webservice, function(data) {
		console.log(data.rfactor);
		$('#tableEI').html('Erosivity Index:' + data.rfactor.toString());
		$('#tableEnd').html('End Date:' + endDate);
		$('#tableStart').html('Start Date: '+ startDate);
		$('#tableLatitude').html("Latitude: " + coordx);
		$('#tableLongitude').html("Longitude: "+coordy);
		if (data.rfactor > 5) {
			$('#conclusion').html('A rainfall erosivity factor of 5.0 or greater has been calculated for your site and period of construction. You do NOT qualify for a waiver from NPDES permitting requirements.');
		}
});
}

</script>
<script>
	async function makeMap() {
		function getCoords() {
  			var location = $("#location").val();

  			var ws =
    		'https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?SingleLine=' + location + '&f=json&outSR=4326&outFields=Loc_name%2cCity%2cPlace_addr%2cRegion%2cRegionAbbr%2cCountry'

  			$("#datatxt").html("Calling web service");
 				 $("#lon-lat").html("Loading");

  			$.getJSON(ws, function(data) {

   			$("#datatxt").html(JSON.stringify(data));
				$("#longitude").html(data.candidates[0].location.x.toString());
				$("#latitude").html(data.candidates[0].location.y.toString());
  			}).fail(function() {
    		console.log("error");
    		$("#datatxt").html("error");
				});
				}
				await getCoords();
				require([
						"esri/Map",
						"esri/views/MapView",
						"esri/Graphic"

					],
				function(Map, MapView, Graphic) {
						var centerx = document.getElementById('longitude').innerHTML;
						console.log(centerx);
						var centery = document.getElementById('latitude').innerHTML;
						console.log(centery);
						// Create the Map with an initial basemap
						var map = new Map({
							basemap: "topo"
						});

						// Create the MapView and reference the Map in the instance
						var view = new MapView({
							container: "viewDiv",
							map: map,
							zoom: 15,
							center: [centerx, centery]
						});
						
						var point = {
						type: "point", // autocasts as new Point()
						longitude: centerx,
						latitude: centery
						};

					// Create a symbol for drawing the point
						var markerSymbol = {
						type: "simple-marker", // autocasts as new SimpleMarkerSymbol()
						color: [226, 119, 40],
						outline: { // autocasts as new SimpleLineSymbol()
							color: [255, 255, 255],
							width: 2
							}
						};

					// Create a graphic and add the geometry and symbol to it
						var pointGraphic = new Graphic({
						geometry: point,
						symbol: markerSymbol
						});


					// Add the graphics to the view's graphics layer
						view.graphics.addMany([pointGraphic]);
						});
					}
  </script>
</body>
</html>
